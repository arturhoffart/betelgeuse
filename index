<?php
/**
 * O arquivo principal do tema Betelgeuse.
 *
 * Este é o arquivo mais genérico em um tema WordPress.
 * Ele é usado para exibir uma página quando nada mais específico for encontrado.
 */

get_header(); ?>

<div id="primary" class="content-area">
    <main id="main" class="site-main">

        <?php if ( have_posts() ) : ?>

            <?php if ( is_home() && ! is_front_page() ) : ?>
                <header class="page-header">
                    <h1 class="page-title screen-reader-text"><?php single_post_title(); ?></h1>
                </header>
            <?php endif; ?>

            <div class="betelgeuse-post-wrapper">
                <?php
                /* Começa o Loop */
                while ( have_posts() ) :
                    the_post();

                    /**
                     * Hook: betelgeuse_loop_before_content
                     */
                    do_action( 'betelgeuse_loop_before_content' );

                    // Busca o template de exibição do post (ex: template-parts/content.php)
                    get_template_part( 'template-parts/content', get_post_format() );

                    /**
                     * Hook: betelgeuse_loop_after_content
                     */
                    do_action( 'betelgeuse_loop_after_content' );

                endwhile;
                ?>
            </div>

            <?php
            // Paginação estilo Astra (Leve e Customizável)
            the_posts_navigation( array(
                'prev_text' => '&larr; ' . __( 'Anterior', 'betelgeuse' ),
                'next_text' => __( 'Próximo', 'betelgeuse' ) . ' &rarr;',
            ) );

        else :

            // Se não houver conteúdo, carrega o template de "nada encontrado"
            get_template_part( 'template-parts/content', 'none' );

        endif;
        ?>

    </main></div><?php
/**
 * Hook para exibir a Sidebar. 
 * O Astra permite desativar a sidebar pelo painel, 
 * por isso usamos um hook ou uma função condicional.
 */
do_action( 'betelgeuse_sidebar' );

get_footer();